/*! domPanZoom | https://github.com/StephanWagner/domPanZoom | MIT License | Copyright Stephan Wagner | https://stephanwagner.me */
function domPanZoomWrapper(){function t(t){this.options=Object.assign({},{wrapperElementID:"",panZoomElementID:"",center:!0,bounds:"cover",minZoom:.1,maxZoom:10,panStep:10,zoomStep:50,zoomWheelSpeed:1,initialZoom:1,initialPanX:0,initialPanY:0,transitionSpeed:400,onInit:null,onChange:null,onZoom:null,onPan:null},t||{}),this.init()}return t.prototype.init=function(){var t,i=this.getWrapper(),o=this.getContainer();i.style.cursor="grab",i.style.overflow="hidden",this.attachEvents(),this.options.bounds&&(t=i.clientWidth,i=i.clientHeight,t=t/o.clientWidth,o=i/o.clientHeight,"cover"===this.options.bounds?this.options.minZoom=Math.max(this.options.minZoom,t,o):this.options.minZoom=Math.max(this.options.minZoom,Math.min(t,o))),this.zoom=this.sanitizeZoom(this.options.initialZoom),this.x=this.options.initialPanX,this.y=this.options.initialPanY,this.options.center?this.center(!0):this.panTo(this.options.initialPanX,this.options.initialPanY,!0),this.fireEvent("onInit",this.getPosition())},t.prototype.fireEvent=function(t,i){this.options[t]&&this.options[t].bind(this)(i)},t.prototype.attachEvents=function(){var i=function(t){var i=t;t.touches&&t.touches.length&&(i=t.touches[0]);var o=0,t=0;this.previousEvent&&(o=i.pageX-this.previousEvent.pageX,t=i.pageY-this.previousEvent.pageY),this.x+=o,this.y+=t,this.setPosition(!0),this.previousEvent=i,this.fireEvent("onPan",this.getPosition())}.bind(this),t=function(t){t.preventDefault(),document.body.style.cursor="grabbing",this.getWrapper().style.cursor="grabbing",document.addEventListener("mousemove",i,{passive:!0}),document.addEventListener("touchmove",i,{passive:!0})}.bind(this);this.getWrapper().addEventListener("mousedown",t,{passive:!1}),this.getWrapper().addEventListener("touchstart",t,{passive:!1});t=function(){this.previousEvent=null,document.body.style.cursor=null,this.getWrapper().style.cursor="grab",document.removeEventListener("mousemove",i,{passive:!0}),document.removeEventListener("touchmove",i,{passive:!0})}.bind(this);document.addEventListener("mouseup",t,{passive:!0}),document.addEventListener("touchend",t,{passive:!0});t=function(t){t.preventDefault();var i=t.deltaY;0<t.deltaMode&&(i*=100);var o=this.options.zoomWheelSpeed,t=Math.sign(i),i=Math.min(.25,Math.abs(o*i/128)),i=this.sanitizeZoom(this.zoom*(i=1-t*i));this.zoom=i,this.setPosition(!0)}.bind(this);this.getWrapper().addEventListener("wheel",t,{passive:!1})},t.prototype.getEventOffsetToParent=function(t){for(var i=t.target,o=0,n=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)o+=i.offsetLeft-i.scrollLeft,n+=i.offsetTop-i.scrollTop,i=i.offsetParent;return{x:o=t.clientX-o,y:n=t.clientY-n}},t.prototype.getPosition=function(){return{zoom:this.zoom,x:this.x,y:this.y}},t.prototype.setPosition=function(t){var i,o,n,e,s,h;this.transition(!t),this.options.bounds&&(n=this.getWrapper(),e=this.getContainer(),i=n.clientWidth,o=n.clientHeight,s=e.clientWidth,h=e.clientHeight,t=s*this.zoom,n=h*this.zoom,s=-1*(e=s/2*(this.zoom-1))+i-s,t<i?(this.x<e&&(this.x=e),this.x>s&&(this.x=s)):(this.x=Math.min(this.x,e),this.x=Math.max(this.x,s)),h=-1*(s=h/2*(this.zoom-1))+o-h,n<o?(this.y<s&&(this.y=s),this.y>h&&(this.y=h)):(this.y=Math.min(this.y,s),this.y=Math.max(this.y,h))),this.getContainer().style.transform="matrix("+this.zoom+", 0, 0, "+this.zoom+", "+this.x+", "+this.y+")",this.fireEvent("onChange",this.getPosition())},t.prototype.sanitizeZoom=function(t){return t=(t=t<this.options.minZoom?this.options.minZoom:t)>this.options.maxZoom?this.options.maxZoom:t},t.prototype.getZoom=function(){return this.zoom},t.prototype.zoomTo=function(t,i){t=this.sanitizeZoom(t);var o=this.getWrapper(),n=this.getContainer(),e=o.clientWidth-n.clientWidth,n=o.clientHeight-n.clientHeight,e=this.x-.5*e,n=this.y-.5*n;this.adjustPositionByZoom(t,e,n),this.zoom=t,this.setPosition(i),this.fireEvent("onZoom",this.getPosition())},t.prototype.zoomIn=function(t,i){this.zoomInOut(t,i,"in")},t.prototype.zoomOut=function(t,i){this.zoomInOut(t,i,"out")},t.prototype.zoomInOut=function(t,i,o){!0!==t&&!1!==t||(i=t,t=null),t=t||this.options.zoomStep;var n=this.zoom,t=(100+t)/100;this.zoomTo(n*(t="out"===o?1/t:t),i),this.fireEvent("onZoom",this.getPosition())},t.prototype.adjustPositionByZoom=function(t,i,o){var n=this.zoom,e=(t-n)/n,s=this.getContainer(),t=.5*s.clientWidth*n,n=.5*s.clientHeight*n;(i=t<i?Math.min(i,t):i)<-1*t&&(i=Math.max(i,-1*t)),(o=n<o?Math.min(o,n):o)<-1*n&&(o=Math.max(o,-1*n)),this.x+=i*e,this.y+=o*e},t.prototype.center=function(t){this.panTo(50,50,t)},t.prototype.getPan=function(t){return{x:this.getPanX(t),y:this.getPanY(t)}},t.prototype.getPanX=function(t){if(t)return this.x;var i=this.getWrapper(),t=this.getContainer(),i=.5*i.clientWidth+-1*this.x;return(i+=(this.zoom-1)*(.5*t.clientWidth))/(t.clientWidth*this.zoom)*100},t.prototype.getPanY=function(t){if(t)return this.y;var i=this.getWrapper(),t=this.getContainer(),i=.5*i.clientHeight+-1*this.y;return(i+=(this.zoom-1)*(.5*t.clientHeight))/(t.clientHeight*this.zoom)*100},t.prototype.panTo=function(t,i,o){var n=this.getWrapper(),e=this.getContainer(),t=e.clientWidth*this.zoom*t/100*-1;t+=(this.zoom-1)*(.5*e.clientWidth),t+=.5*n.clientWidth;i=e.clientHeight*this.zoom*i/100*-1;i+=(this.zoom-1)*(.5*e.clientHeight),i+=.5*n.clientHeight,this.x=t,this.y=i,this.setPosition(o)},t.prototype.panLeft=function(t,i){this.pan(t,i,"left")},t.prototype.panRight=function(t,i){this.pan(t,i,"right")},t.prototype.panUp=function(t,i){this.pan(t,i,"up")},t.prototype.panDown=function(t,i){this.pan(t,i,"down")},t.prototype.pan=function(t,i,o){!0!==t&&!1!==t||(i=t,t=null),t=t||this.options.panStep;var n=this.getContainer();panWidth=n.clientWidth*t/100*this.zoom,panHeight=n.clientWidth*t/100*this.zoom,"left"===o&&(this.x+=-1*panWidth),"right"===o&&(this.x+=panWidth),"up"===o&&(this.y+=-1*panHeight),"down"===o&&(this.y+=panHeight),this.setPosition(i)},t.prototype.getWrapper=function(){if(this.wrapperElement)return this.wrapperElement;if(!this.options.wrapperElementID)return console.error("wrapperElementID is a required option"),null;var t=document.querySelector("#"+this.options.wrapperElementID);return t?this.wrapperElement=t:null},t.prototype.getContainer=function(){if(this.containerElement)return this.containerElement;if(!this.options.panZoomElementID)return console.error("panZoomElementID is a required option"),null;var t=document.querySelector("#"+this.options.panZoomElementID);return t?this.containerElement=t:null},t.prototype.transition=function(t){this.getContainer().style.transition=t?"transform "+this.options.transitionSpeed+"ms":null},t}!function(t,i){"function"==typeof define&&define.amd?define(["dompanzoom"],function(){return t.domPanZoom=i()}):"object"==typeof module&&module.exports?module.exports=t.domPanZoom=i():t.domPanZoom=i()}(this,function(){return domPanZoomWrapper()});