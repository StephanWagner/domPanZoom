/*! domPanZoom | https://github.com/StephanWagner/domPanZoom | MIT License | Copyright Stephan Wagner | https://stephanwagner.me */
function domPanZoomWrapper(){function t(t){this.options=Object.assign({},{wrapperElementID:"",panZoomElementID:"",center:!0,contain:!0,containOffset:10,bounds:!0,boundsOffset:10,minZoom:.1,maxZoom:10,zoomStep:50,zoomWheelSpeed:1,initialZoom:1},t||{}),this.init()}return t.prototype.init=function(){this.getWrapper().style.cursor="grab",this.getWrapper().style.overflow="hidden",this.attachEvents(),this.zoomTo(this.options.initialZoom,!0),this.options.center&&this.center(!0)},t.prototype.attachEvents=function(){var o=function(t){var o=t;t.touches&&t.touches.length&&(o=t.touches[0]);var e=0,t=0;this.previousEvent&&(e=o.pageX-this.previousEvent.pageX,t=o.pageY-this.previousEvent.pageY),this.x+=e,this.y+=t,this.setPosition(!0),this.previousEvent=o}.bind(this),t=function(t){t.preventDefault(),document.body.style.cursor="grabbing",this.getWrapper().style.cursor="grabbing",document.addEventListener("mousemove",o,{passive:!0})}.bind(this);this.getWrapper().addEventListener("mousedown",t),this.getWrapper().addEventListener("touchstart",t);t=function(){this.previousEvent=null,document.body.style.cursor=null,this.getWrapper().style.cursor="grab",document.removeEventListener("mousemove",o,{passive:!0})}.bind(this);document.addEventListener("mouseup",t),document.addEventListener("touchend",t);t=function(t){t.preventDefault();var o=t.deltaY;0<t.deltaMode&&(o*=100);var e=this.options.zoomWheelSpeed,n=Math.sign(o),e=Math.min(.25,Math.abs(e*o/128)),o=this.sanitizeZoom(this.zoom*(e=1-n*e)),n=this.getWrapper(),e=n.clientWidth/2,n=n.clientHeight/2,t=this.getEventOffsetToParent(t),e=e-t.x,n=n-t.y;console.log(t,e,n);t=this.zoom,t=(o-t)/t;this.x+=e*t,this.y+=n*t,this.zoom=o,this.setPosition(!0)}.bind(this);this.getWrapper().addEventListener("wheel",t)},t.prototype.getEventOffsetToParent=function(t){for(var o=t.target,e=0,n=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)e+=o.offsetLeft-o.scrollLeft,n+=o.offsetTop-o.scrollTop,o=o.offsetParent;return{x:e=t.clientX-e,y:n=t.clientY-n}},t.prototype.setPosition=function(t){this.transition(!t),this.options.bounds,this.getContainer().style.transform="matrix("+this.zoom+", 0, 0, "+this.zoom+", "+this.x+", "+this.y+")"},t.prototype.sanitizeZoom=function(t){return t=(t=t<this.options.minZoom?this.options.minZoom:t)>this.options.maxZoom?this.options.maxZoom:t},t.prototype.zoomTo=function(t,o){t=this.sanitizeZoom(t);var e=this.getWrapper(),n=this.getContainer(),i=e.clientWidth-n.clientWidth,n=e.clientHeight-n.clientHeight,i=this.x-.5*i,n=this.y-.5*n;this.adjustPositionByZoom(t,i,n),this.zoom=t,this.setPosition(o)},t.prototype.zoomIn=function(t,o){this.zoomInOut(t,o,"in")},t.prototype.zoomOut=function(t,o){this.zoomInOut(t,o,"out")},t.prototype.zoomInOut=function(t,o,e){!0!==t&&!1!==t||(t=null),t=t||this.options.zoomStep;var n=this.zoom,t=(100+t)/100;this.zoomTo(n*(t="out"===e?1/t:t))},t.prototype.adjustPositionByZoom=function(t,o,e){var n=this.zoom,n=(t-n)/n;this.x+=o*n,this.y+=e*n},t.prototype.center=function(t){var o=this.getWrapper(),e=this.getContainer(),n=o.clientWidth-e.clientWidth,e=o.clientHeight-e.clientHeight;this.x=.5*n,this.y=.5*e,this.setPosition(t)},t.prototype.getWrapper=function(){if(this.wrapperElement)return this.wrapperElement;if(!this.options.wrapperElementID)return console.error("wrapperElementID is a required option"),null;var t=document.querySelector("#"+this.options.wrapperElementID);return t?this.wrapperElement=t:null},t.prototype.getContainer=function(){if(this.containerElement)return this.containerElement;if(!this.options.panZoomElementID)return console.error("panZoomElementID is a required option"),null;var t=document.querySelector("#"+this.options.panZoomElementID);return t?this.containerElement=t:null},t.prototype.transition=function(t){this.getContainer().style.transition=t?"transform 400ms":null},t}!function(t,o){"function"==typeof define&&define.amd?define(["dompanzoom"],function(){return t.domPanZoom=o()}):"object"==typeof module&&module.exports?module.exports=t.domPanZoom=o():t.domPanZoom=o()}(this,function(){return domPanZoomWrapper()});